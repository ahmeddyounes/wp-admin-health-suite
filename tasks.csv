id,title,spec
M00-01,"Project Scaffolding & Directory Structure","Create WordPress plugin scaffolding with the following structure: /wp-admin-health-suite/ as root containing: wp-admin-health-suite.php (main plugin file), /includes/ (core classes), /admin/ (admin-specific code), /assets/css/, /assets/js/, /assets/images/, /languages/ (i18n), /templates/ (admin views), /vendor/ (dependencies if any). Main plugin file must include: Plugin Name, Description, Version 1.0.0, Author, License GPL v2+, Text Domain 'wp-admin-health-suite', Domain Path '/languages'. Use namespace WPAdminHealth. Implement PSR-4 autoloading. Add index.php with die() in each directory. Acceptance: Plugin activates without errors on WP 6.0+, PHP 7.4+."
M00-02,"Core Plugin Class & Singleton Pattern","Create /includes/class-plugin.php with singleton pattern. Methods: get_instance(), __construct() (private), init() hooks into 'plugins_loaded', activate() for register_activation_hook, deactivate() for register_deactivation_hook. Properties: $version, $plugin_name, $plugin_path, $plugin_url. Load dependencies: Admin class, Database class, Assets class, REST API class. Use wpha_ prefix for all hooks/filters. Acceptance: Plugin loads all dependencies correctly, singleton prevents multiple instantiation, activation/deactivation hooks fire properly."
M00-03,"Database Schema & Installation","Create /includes/class-installer.php handling plugin installation. Create custom tables on activation: {prefix}wpha_scan_history (id, scan_type, items_found, items_cleaned, bytes_freed, created_at), {prefix}wpha_scheduled_tasks (id, task_type, frequency, last_run, next_run, status, settings JSON). Use dbDelta() for table creation. Store plugin version in options. Add upgrade routine checking version. Create uninstall.php that removes all tables and options when DELETE_PLUGIN_DATA constant is true. Acceptance: Tables created with proper charset/collation, upgrade path works, clean uninstall removes all data."
M00-04,"Admin Menu & Page Registration","Create /admin/class-admin.php registering admin menu. Add top-level menu 'Admin Health' with dashicons-heart icon at position 80. Submenus: Dashboard, Database Health, Media Audit, Performance, Settings. Use add_menu_page() and add_submenu_page(). Capability: manage_options. Hook into admin_menu priority 10. Each page loads corresponding template from /templates/admin/. Add admin body class 'wpha-admin-page' for styling scope. Acceptance: All menu items appear correctly, pages load without errors, proper capability checks prevent unauthorized access."
M00-05,"Asset Enqueuing System","Create /includes/class-assets.php for CSS/JS management. Enqueue only on plugin admin pages (screen ID check). Admin CSS: /assets/css/admin.css (main styles), /assets/css/dashboard.css (dashboard widgets). Admin JS: /assets/js/admin.js (core), /assets/js/charts.js (Chart.js wrapper). Dependencies: wp-api-fetch, wp-i18n, wp-components for React components. Use wp_localize_script() to pass: ajax_url, nonce, rest_url, plugin_url, i18n strings. Version assets with filemtime() in development. Acceptance: Assets load only on plugin pages, no console errors, proper dependency chain."
M00-06,"REST API Controller Base","Create /includes/rest/class-rest-controller.php extending WP_REST_Controller. Namespace: wpha/v1. Register routes in rest_api_init hook. Base methods: get_items(), get_item(), create_item(), delete_item(). Permission callback using current_user_can('manage_options'). Implement nonce verification via X-WP-Nonce header. Standard response format: {success: bool, data: mixed, message: string}. Error handling returns WP_Error with proper codes. Rate limiting: max 60 requests/minute per user stored in transient. Acceptance: All endpoints require authentication, proper HTTP status codes, rate limiting works."
M00-07,"Health Score Calculator Engine","Create /includes/class-health-calculator.php computing overall site health score (0-100). Factors weighted: database_bloat (25%), unused_media (20%), plugin_performance (25%), revision_count (15%), transient_bloat (15%). Each factor returns 0-100 subscore. Grade mapping: A (90-100), B (80-89), C (70-79), D (60-69), F (<60). Methods: calculate_overall_score(), get_grade(), get_factor_scores(), get_recommendations(). Cache result in transient for 1 hour (wpha_health_score). Acceptance: Score accurately reflects site state, recommendations are actionable, caching prevents repeated heavy queries."
M01-01,"Dashboard Template & Layout","Create /templates/admin/dashboard.php with React mount point. Layout: Header with health score circle (large, animated), 4 metric cards row (Database Size, Media Files, Active Plugins, Last Cleanup), Recent Activity timeline, Quick Actions grid. Use CSS Grid for responsive layout. Mobile breakpoint at 782px. Include wp-admin color scheme compatibility. Add skeleton loaders for async data. Acceptance: Dashboard renders correctly, responsive on mobile, matches WordPress admin aesthetic, skeleton loaders show during data fetch."
M01-02,"Health Score Circle Component","Create /assets/js/components/HealthScoreCircle.jsx React component. Props: score (0-100), grade (A-F), loading (bool). Render animated SVG circular progress with stroke-dasharray animation. Color coding: A=green (#00a32a), B=blue (#2271b1), C=yellow (#dba617), D=orange (#d63638), F=red (#b32d2e). Animation: count up from 0 to score over 1.5s using requestAnimationFrame. Show grade letter in center. Acceptance: Smooth animation, accessible (aria-label), color-blind friendly with grade letters, works in all modern browsers."
M01-03,"Dashboard Metric Cards Component","Create /assets/js/components/MetricCard.jsx. Props: title, value, unit, trend (up/down/neutral), icon, onClick. Display: Icon left, title/value stacked right, trend indicator. Trend shows percentage change from last scan with arrow. Hover state with subtle lift shadow. Click navigates to relevant detail page. Cards: Database Size (MB), Media Library (count), Optimization Potential (MB saveable), Days Since Cleanup. Acceptance: Cards are clickable, trends calculate correctly, accessible keyboard navigation."
M01-04,"Quick Actions Grid Component","Create /assets/js/components/QuickActions.jsx. Actions array: [{id, label, icon, description, action, confirmRequired}]. Actions: Clean Revisions, Clear Transients, Find Unused Media, Optimize Tables, Full Scan. Each button shows icon + label, tooltip on hover with description. Confirmation modal for destructive actions using wp.components Modal. Progress indicator during action execution. Success/error toast notifications. Acceptance: All actions execute correctly, confirmations prevent accidents, progress feedback is clear, toasts auto-dismiss after 5s."
M01-05,"Recent Activity Timeline Component","Create /assets/js/components/ActivityTimeline.jsx fetching from REST endpoint. Display last 10 activities from wpha_scan_history table. Each entry: icon (based on type), action description, items affected count, bytes freed (formatted), relative timestamp (using wp.date). Types: database_clean, media_scan, optimization, scheduled_task. Empty state with illustration and 'Run your first scan' CTA. Acceptance: Timeline updates after actions, relative times are accurate, empty state guides new users."
M01-06,"Dashboard REST Endpoints","Create /includes/rest/class-dashboard-controller.php. Endpoints: GET /wpha/v1/dashboard/stats (returns all dashboard metrics), GET /wpha/v1/dashboard/health-score (returns score + factors), GET /wpha/v1/dashboard/activity (paginated activity log), POST /wpha/v1/dashboard/quick-action (executes action by ID). Stats endpoint aggregates: total_db_size, total_media_count, cleanable_items, last_cleanup_date. Cache stats in transient for 5 minutes. Acceptance: Endpoints return correct data structure, caching reduces DB load, actions execute and log properly."
M02-01,"Database Analyzer Core Class","Create /includes/database/class-analyzer.php. Methods: get_database_size() (total DB size in bytes), get_table_sizes() (array of table => size), get_revisions_count(), get_auto_drafts_count(), get_trashed_posts_count(), get_spam_comments_count(), get_trashed_comments_count(), get_expired_transients_count(), get_orphaned_postmeta_count(), get_orphaned_commentmeta_count(), get_orphaned_termmeta_count(). All queries use $wpdb->prepare(). Cache results in object property to prevent repeated queries in same request. Acceptance: Accurate counts matching phpMyAdmin verification, queries are optimized with proper indexes."
M02-02,"Revisions Manager Class","Create /includes/database/class-revisions-manager.php. Methods: get_revisions_by_post(post_id), get_all_revisions_count(), get_revisions_size_estimate(), delete_revisions_for_post(post_id, keep_count), delete_all_revisions(keep_per_post), get_posts_with_most_revisions(limit). Delete uses wp_delete_post_revision() for proper cleanup. Batch processing: process 100 revisions per batch with wp_defer_term_counting(). Log deletions to scan_history. Option to keep X most recent revisions per post. Acceptance: Revisions delete cleanly, associated meta removed, batch processing prevents timeout, audit log captures all deletions."
M02-03,"Transients Cleaner Class","Create /includes/database/class-transients-cleaner.php. Methods: get_all_transients_count(), get_expired_transients(), get_transients_size(), delete_expired_transients(), delete_all_transients(exclude_patterns), get_transient_by_prefix(prefix). Handle both options table transients and external object cache (check wp_using_ext_object_cache()). Exclude patterns: array of prefixes to never delete (e.g., 'wpha_', 'wc_', critical transients). Batch delete 500 at a time. Acceptance: Only expired transients deleted by default, exclusion patterns work, handles object cache gracefully."
M02-04,"Orphaned Data Cleaner Class","Create /includes/database/class-orphaned-cleaner.php. Methods: find_orphaned_postmeta() (meta where post_id not in posts), find_orphaned_commentmeta(), find_orphaned_termmeta(), find_orphaned_relationships() (term_relationships with invalid object_id), delete_orphaned_postmeta(), delete_orphaned_commentmeta(), delete_orphaned_termmeta(), delete_orphaned_relationships(). Each delete method accepts dry_run parameter returning count only. Batch processing 1000 rows per query. Direct $wpdb->delete() for performance. Acceptance: Correctly identifies orphaned data, dry run mode works, no false positives on valid data."
M02-05,"Spam & Trash Cleaner Class","Create /includes/database/class-trash-cleaner.php. Methods: get_trashed_posts(post_types), get_spam_comments_count(), get_trashed_comments_count(), delete_trashed_posts(post_types, older_than_days), delete_spam_comments(older_than_days), delete_trashed_comments(older_than_days), empty_all_trash(). Use wp_delete_post(force_delete=true) and wp_delete_comment(force_delete=true) for proper cleanup. Filter by post type. Age filter: only delete items trashed more than X days ago. Acceptance: Uses WordPress functions for proper cleanup, respects post types, age filter prevents accidental deletion of recent items."
M02-06,"Database Optimizer Class","Create /includes/database/class-optimizer.php. Methods: get_tables_needing_optimization() (checks overhead), optimize_table(table_name), optimize_all_tables(), get_table_overhead(table_name), repair_table(table_name). Use OPTIMIZE TABLE query for MyISAM/Aria, ANALYZE TABLE for InnoDB. Check table engine before optimization. Report before/after sizes. Skip tables not belonging to WordPress (prefix check). Acceptance: Correct optimization command per engine, only WordPress tables affected, size reduction reported accurately."
M02-07,"Orphaned Tables Detector","Create /includes/database/class-orphaned-tables.php. Methods: get_all_wp_tables(), get_known_core_tables(), get_registered_plugin_tables(), find_orphaned_tables(), delete_orphaned_table(table_name, confirm_hash). Build known tables list from: WP core, active plugins (parse $wpdb->tablename patterns), multisite tables. Orphaned = has WP prefix but not in known list. NEVER auto-delete - require explicit confirmation with table name hash. Show table size and row count before deletion. Acceptance: Accurately identifies orphaned tables, no false positives on active plugin tables, deletion requires explicit confirmation."
M02-08,"Database Health REST Endpoints","Create /includes/rest/class-database-controller.php. Endpoints: GET /wpha/v1/database/stats (all analyzer stats), GET /wpha/v1/database/revisions (revision details), GET /wpha/v1/database/transients (transient list), GET /wpha/v1/database/orphaned (orphaned data summary), POST /wpha/v1/database/clean (execute cleanup by type), POST /wpha/v1/database/optimize (run optimization). Clean endpoint accepts: {type: 'revisions'|'transients'|'spam'|'trash'|'orphaned', options: {}}. All POST endpoints log to activity. Acceptance: Full CRUD for database operations, proper validation, activity logging works."
M02-09,"Database Health Admin Page","Create /templates/admin/database-health.php with React app mount. Sections: Overview cards (total size, tables count, potential savings), Cleanup modules accordion (Revisions, Transients, Spam/Trash, Orphaned Data, Orphaned Tables), Table browser with sizes, Action buttons per section. Each module shows: item count, estimated size, 'Analyze' button, 'Clean' button (with confirmation). Progress bar during cleanup operations. Results summary after completion. Acceptance: All modules functional, confirmations prevent accidents, progress feedback is clear, results show items deleted and space freed."
M02-10,"Cleanup Scheduler System","Create /includes/class-scheduler.php using Action Scheduler library (or WP-Cron fallback). Methods: schedule_cleanup(type, frequency, options), unschedule_cleanup(type), get_scheduled_tasks(), run_scheduled_task(task_id). Frequencies: daily, weekly, monthly, custom_days. Store schedules in wpha_scheduled_tasks table. Hook into action_scheduler_run or wp_cron. Email notification option on completion (uses wp_mail). Acceptance: Tasks run on schedule, handles missed schedules gracefully, email notifications work, logs all executions."
M03-01,"Media Scanner Core Class","Create /includes/media/class-scanner.php. Methods: scan_all_media(), get_media_count(), get_media_total_size(), find_unused_media(), find_duplicate_files(), find_large_files(min_size_mb), find_missing_alt_text(), get_scan_progress(). Unused detection: check post_content, postmeta (gallery, featured), widget content, customizer, ACF fields, Elementor data, WooCommerce galleries. Store scan results in transient with timestamp. Batch processing: 50 attachments per batch. Acceptance: Accurately detects unused media, no false positives on actually-used images, handles large libraries (50k+) without timeout."
M03-02,"Content Reference Finder","Create /includes/media/class-reference-finder.php. Methods: find_references(attachment_id), is_media_used(attachment_id), get_reference_locations(attachment_id). Search locations: all post_content (LIKE query on URL and ID), postmeta values, options table, widget areas, theme mods. Support for: standard images, galleries, featured images, WooCommerce product galleries, ACF image/gallery fields, Elementor background images, Beaver Builder images. Return array of reference locations with context. Acceptance: Finds references across all supported builders/plugins, returns actionable location info."
M03-03,"Duplicate File Detector","Create /includes/media/class-duplicate-detector.php. Methods: find_duplicates(), get_duplicate_groups(), get_potential_savings(). Detection methods: exact file hash (md5_file), filename pattern matching (image-1.jpg, image-2.jpg), same dimensions + similar size. Group duplicates by original and copies. Calculate total savings if duplicates removed. Exclude different sizes of same image (thumbnails). Handle missing files gracefully. Acceptance: Correctly groups duplicates, distinguishes thumbnails from true duplicates, calculates accurate savings."
M03-04,"Large File Identifier","Create /includes/media/class-large-files.php. Methods: find_large_files(threshold_kb), get_optimization_suggestions(), get_size_distribution(). Default threshold: 500KB. For each large file return: ID, filename, current size, suggested max size, potential savings, dimensions. Suggestions based on: images over 2000px on either dimension, unoptimized formats (BMP, TIFF), PNGs that should be JPGs. Size distribution: buckets (<100KB, 100-500KB, 500KB-1MB, 1-5MB, >5MB) with counts. Acceptance: Accurately identifies large files, suggestions are actionable, distribution helps understand library composition."
M03-05,"Missing Alt Text Reporter","Create /includes/media/class-alt-text-checker.php. Methods: find_missing_alt_text(), get_alt_text_coverage(), bulk_suggest_alt_text(use_ai). Find all image attachments without _wp_attachment_image_alt meta or empty value. Coverage: percentage of images with alt text. Bulk suggestion: generate from filename (clean up slugs), or optionally use AI service (future feature, placeholder for now). Return list with: ID, filename, thumbnail URL, edit link. Acceptance: Correctly identifies missing alt text, coverage percentage accurate, edit links work."
M03-06,"Safe Media Deletion System","Create /includes/media/class-safe-delete.php. Methods: prepare_deletion(attachment_ids), execute_deletion(deletion_id), restore_deleted(deletion_id), get_deletion_queue(), get_deleted_history(). Workflow: 1) User selects items, 2) prepare_deletion moves files to /wp-content/wpha-trash/ and stores metadata, 3) Items recoverable for 30 days, 4) execute_deletion permanently removes after confirmation. Store in custom table: wpha_deleted_media (id, attachment_id, file_path, metadata JSON, deleted_at, permanent_at). Acceptance: Two-step deletion prevents accidents, restore works perfectly, auto-purge after 30 days."
M03-07,"Media Audit REST Endpoints","Create /includes/rest/class-media-controller.php. Endpoints: GET /wpha/v1/media/stats (overview stats), GET /wpha/v1/media/unused (paginated unused media list), GET /wpha/v1/media/duplicates (duplicate groups), GET /wpha/v1/media/large (large files list), GET /wpha/v1/media/alt-text (missing alt text), POST /wpha/v1/media/scan (trigger full scan), POST /wpha/v1/media/delete (safe delete selected), POST /wpha/v1/media/restore (restore from trash). Pagination: 50 items per page, cursor-based. Include thumbnail URLs in responses. Acceptance: All endpoints paginate correctly, scan runs in background, delete/restore work reliably."
M03-08,"Media Audit Admin Page","Create /templates/admin/media-audit.php with React app. Sections: Scan status banner (last scan time, 'Rescan' button), Stats overview (total media, unused count, duplicates count, potential savings), Tabbed results view (Unused, Duplicates, Large Files, Missing Alt Text). Each tab: sortable/filterable table, thumbnail preview, checkbox selection, bulk actions. Bulk actions: Delete Selected, Ignore Selected (adds to exclusion list). Duplicate view: grouped display with 'Keep Original' selector. Acceptance: Tables perform well with 1000+ items, bulk selection works, previews load lazily."
M03-09,"Media Exclusion Manager","Create /includes/media/class-exclusions.php. Methods: add_exclusion(attachment_id, reason), remove_exclusion(attachment_id), get_exclusions(), is_excluded(attachment_id), bulk_add_exclusions(ids), clear_exclusions(). Store in options as serialized array with metadata: {attachment_id, excluded_at, reason, excluded_by}. Integrate with scanner to skip excluded items. UI to manage exclusions: view list, remove individual, clear all. Acceptance: Excluded items never appear in cleanup suggestions, exclusion list persists across scans, manageable through UI."
M04-01,"Plugin Performance Profiler","Create /includes/performance/class-plugin-profiler.php. Methods: measure_plugin_impact(), get_slowest_plugins(limit), get_plugin_memory_usage(), get_plugin_query_counts(), get_asset_counts_by_plugin(). Measurement: temporarily capture query count, memory, time during admin_init with each plugin active. Store results in transient. Calculate: queries added, memory increase, load time impact. Display: ranked list with impact scores. Note: This is approximation, not exact profiling. Acceptance: Provides reasonable estimates of plugin impact, clearly communicates approximate nature, helps identify problem plugins."
M04-02,"Query Monitor Integration","Create /includes/performance/class-query-monitor.php. Methods: capture_slow_queries(threshold_ms), get_query_summary(), get_queries_by_caller(), export_query_log(). If Query Monitor plugin active, integrate with its data. Otherwise, implement basic monitoring: hook into 'query' filter, measure SAVEQUERIES if enabled. Identify: slow queries (>50ms), duplicate queries, queries without indexes (EXPLAIN). Log to custom table with TTL. Acceptance: Works standalone and enhanced with Query Monitor, identifies genuinely slow queries, logs are prunable."
M04-03,"Heartbeat API Controller","Create /includes/performance/class-heartbeat-controller.php. Methods: get_current_settings(), update_frequency(location, seconds), disable_heartbeat(location), enable_heartbeat(location). Locations: 'admin', 'post-editor', 'frontend'. Frequency options: 15s, 30s, 60s, 120s, disabled. Use wp_heartbeat_settings filter. Store settings in options. Provide presets: 'Default', 'Optimized', 'Minimal'. Show estimated CPU savings per preset. Acceptance: Heartbeat modifications work correctly, doesn't break autosave/post locking, presets provide reasonable defaults."
M04-04,"Admin Ajax Monitor","Create /includes/performance/class-ajax-monitor.php. Methods: log_ajax_request(), get_ajax_summary(period), get_frequent_ajax_actions(), get_slow_ajax_actions(). Hook into wp_ajax_* and track: action name, execution time, memory used, user role, timestamp. Aggregate: requests per minute, average response time, most frequent actions. Identify: excessive polling, slow endpoints, redundant requests. Store in custom table with daily cleanup. Acceptance: Captures all admin AJAX, aggregates meaningfully, identifies optimization opportunities."
M04-05,"Object Cache Status Checker","Create /includes/performance/class-cache-checker.php. Methods: get_cache_status(), test_cache_performance(), get_cache_recommendations(), is_persistent_cache_available(). Check for: Redis, Memcached, APCu, file-based cache, no cache. Performance test: set/get 100 items, measure time. Recommendations based on hosting environment detection. Report: cache type, hit rate (if available), recommendations. Acceptance: Correctly identifies cache backend, performance test is meaningful, recommendations are actionable per hosting type."
M04-06,"Autoload Options Analyzer","Create /includes/performance/class-autoload-analyzer.php. Methods: get_autoloaded_options(), get_autoload_size(), find_large_autoloads(threshold), recommend_autoload_changes(). Query options where autoload='yes'. Identify: very large autoloaded options (>10KB), likely candidates for non-autoload (infrequent settings). Calculate total autoload size. Provide: option name, size, source (core/plugin/theme), recommendation. Ability to change autoload status with confirmation. Acceptance: Accurately lists autoloaded options, size calculations correct, autoload changes apply properly."
M04-07,"Performance Dashboard Page","Create /templates/admin/performance.php with React app. Sections: Performance Score card (based on all factors), Plugin Impact ranking (sortable table), Query Analysis (slow queries, counts), Heartbeat Control panel, Object Cache status, Autoload Analysis. Plugin ranking: shows load time impact, memory, queries with bar visualizations. Heartbeat panel: toggle/slider controls per location. Quick recommendations sidebar with action buttons. Acceptance: All metrics display correctly, controls work, recommendations are contextual."
M04-08,"Performance REST Endpoints","Create /includes/rest/class-performance-controller.php. Endpoints: GET /wpha/v1/performance/stats (overview), GET /wpha/v1/performance/plugins (plugin rankings), GET /wpha/v1/performance/queries (query analysis), GET /wpha/v1/performance/heartbeat (current settings), POST /wpha/v1/performance/heartbeat (update settings), GET /wpha/v1/performance/cache (cache status), GET /wpha/v1/performance/autoload (autoload analysis), POST /wpha/v1/performance/autoload (change autoload). Acceptance: All endpoints return correct data, POST endpoints validate input, changes persist."
M05-01,"AI Recommendations Engine","Create /includes/ai/class-recommendations.php. Methods: generate_recommendations(), prioritize_issues(), get_actionable_steps(), dismiss_recommendation(id). Analyze all scan results and generate prioritized recommendations. Format: {id, priority (1-10), category, title, description, impact_estimate, action_type, action_params}. Categories: database, media, performance, security. Priority based on: impact (space/speed), ease of fix, risk level. Cache recommendations, regenerate on new scan. Acceptance: Recommendations are genuinely actionable, priorities make sense, dismissed items stay dismissed."
M05-02,"One-Click Fix System","Create /includes/ai/class-one-click-fix.php. Methods: get_safe_fixes(), execute_fix(recommendation_id), execute_all_safe(), get_fix_preview(recommendation_id). Safe fixes (auto-executable): clear expired transients, delete spam comments >30 days, clean post revisions keeping 3, optimize tables. Preview shows: what will be affected, estimated impact. Batch execution with progress tracking. All fixes logged to activity. Rollback info stored for 24 hours. Acceptance: Safe fixes never cause data loss, previews are accurate, execution is reliable with progress feedback."
M05-03,"Recommendations UI Component","Create /assets/js/components/Recommendations.jsx. Display: prioritized list with severity indicators (critical/warning/info), category icons, expandable details, action buttons. Actions: 'Fix Now' (executes immediately), 'Preview' (shows impact), 'Dismiss' (hides recommendation), 'Learn More' (external link). Filter by category. Sort by priority/category. Animate completion of fixes. Empty state when all addressed. Acceptance: List renders correctly, actions work, dismissed items persist in localStorage, animations are smooth."
M06-01,"Settings Page Framework","Create /includes/class-settings.php using WordPress Settings API. Sections: General, Database Cleanup, Media Audit, Performance, Scheduling, Advanced. Register settings with register_setting(), add_settings_section(), add_settings_field(). Sanitization callbacks for each field type. Default values in activation. Export/import settings as JSON. Reset to defaults option. Acceptance: All settings save correctly, sanitization prevents invalid data, export/import works, reset works."
M06-02,"General Settings Section","Settings fields: health_score_cache_duration (1-24 hours), dashboard_widget_enabled (bool), admin_bar_menu (bool), notification_email (email), enable_logging (bool), log_retention_days (7-90), delete_data_on_uninstall (bool). Validation: email format check, numeric range validation. Acceptance: All fields render correctly, validation works, settings take effect immediately."
M06-03,"Database Cleanup Settings","Settings fields: revisions_to_keep (0-50), auto_clean_spam_days (0-365, 0=disabled), auto_clean_trash_days (0-365), excluded_transient_prefixes (textarea, one per line), optimize_tables_weekly (bool), orphaned_cleanup_enabled (bool). Acceptance: Settings properly control cleanup behavior, exclusion patterns work, auto-clean respects day settings."
M06-04,"Media Audit Settings","Settings fields: unused_media_scan_depth (posts only, all content, deep scan), large_file_threshold_kb (100-5000), duplicate_detection_method (hash, filename, both), excluded_media_ids (comma-separated), media_trash_retention_days (7-90), scan_acf_fields (bool), scan_elementor (bool), scan_woocommerce (bool). Acceptance: Scan depth affects what's checked, thresholds work correctly, builder integrations toggle properly."
M06-05,"Performance Settings Section","Settings fields: heartbeat_admin_frequency (15-120), heartbeat_editor_frequency (15-120), heartbeat_frontend (enabled/disabled), query_logging_enabled (bool), slow_query_threshold_ms (10-500), plugin_profiling_enabled (bool). Acceptance: Heartbeat settings apply correctly, query logging togglable, thresholds affect what's flagged."
M06-06,"Scheduling Settings Section","Settings fields: scheduler_enabled (bool), database_cleanup_frequency (daily/weekly/monthly/disabled), media_scan_frequency (weekly/monthly/disabled), performance_check_frequency (daily/weekly), preferred_time (hour selector 0-23), notification_on_completion (bool). Create/update Action Scheduler tasks when saved. Acceptance: Schedules create correctly, time preference respected, notifications send on completion."
M06-07,"Advanced Settings Section","Settings fields: enable_rest_api (bool), rest_api_rate_limit (10-120 per minute), debug_mode (bool), custom_css (textarea for admin customization), safe_mode (disables destructive operations). Safe mode: all delete/clean endpoints return preview only. Debug mode: extra logging, visible query times. Acceptance: Safe mode truly prevents data modification, debug mode provides useful info, custom CSS applies."
M06-08,"Settings Admin Page","Create /templates/admin/settings.php. Tabbed interface matching WP settings pages style. Each section as tab. Save button per tab or unified save. Success/error notices on save. Settings export/import in Advanced tab with file upload. Reset section per tab. Preview of scheduled tasks showing next run times. Acceptance: Tabs work correctly, save provides feedback, export creates valid JSON, import validates and applies."
M07-01,"Admin Styles - Core","Create /assets/css/admin.css. Design system: use WP admin colors via CSS variables (--wp-admin-theme-color), 8px grid spacing, consistent border-radius (4px), shadow levels (sm, md, lg). Component styles: cards, buttons, form elements, tables, modals, toasts, progress bars. Responsive: stack on <782px. Dark mode support via prefers-color-scheme. Scope all styles to .wpha-wrap to prevent conflicts. Acceptance: Consistent with WP admin aesthetic, responsive, no style conflicts with other plugins."
M07-02,"Admin Styles - Dashboard","Create /assets/css/dashboard.css. Health score circle: 200px diameter, thick stroke, gradient fill option. Metric cards: icon + content layout, hover lift effect, trend indicators. Activity timeline: vertical line connector, icon circles, timestamp styling. Quick actions: icon grid layout, hover states. Loading skeletons: animated shimmer effect. Acceptance: Dashboard looks polished and professional, animations are performant, matches mockup specifications."
M07-03,"Admin Styles - Data Tables","Create /assets/css/tables.css. Sortable tables: header click indicators, sort direction arrows. Row states: hover, selected (checkbox), expanded. Bulk action bar: sticky bottom, action buttons, count display. Pagination: numbered pages, items per page selector. Responsive: horizontal scroll or card view on mobile. Thumbnail columns: consistent sizing, lazy load placeholder. Acceptance: Tables handle 1000+ rows, sorting is instant, mobile view is usable."
M07-04,"Admin JavaScript - Core","Create /assets/js/admin.js. Utilities: API wrapper (uses wp.apiFetch), toast notification system, confirmation modal helper, progress tracker, local storage helpers. Event system: custom events for scan-complete, cleanup-complete, settings-changed. Error handling: global error boundary, user-friendly error messages, retry mechanism. Acceptance: API calls work correctly, notifications display properly, errors are caught and displayed helpfully."
M07-05,"Chart.js Integration","Create /assets/js/charts.js. Wrapper for Chart.js library. Chart types: doughnut (health score breakdown), bar (plugin comparison), line (history over time), horizontal bar (size comparisons). Theme integration: use WP admin colors, responsive sizing, accessible color palette. Helper functions: formatBytes(), formatNumber(), createGradient(). Destroy and recreate on data update. Acceptance: Charts render correctly, responsive, accessible, update without memory leaks."
M07-06,"React Components Build System","Configure webpack/esbuild for React components. Entry points per admin page. Output to /assets/js/dist/. Development: source maps, hot reload proxy. Production: minified, tree-shaken. Dependencies externalized: React, ReactDOM, wp.* packages. CSS modules or styled-components for component styles. Build command in package.json. Acceptance: Build produces optimized bundles, development workflow is fast, dependencies aren't duplicated."
M08-01,"PHPDoc Documentation","Add comprehensive PHPDoc to all classes and methods. Format: description, @since version, @param with types and descriptions, @return with type and description, @throws if applicable, @example for complex methods. Document all hooks with @hook tag. Generate documentation with phpDocumentor. Acceptance: All public methods documented, generated docs are navigable, examples are accurate."
M08-02,"User Documentation - Getting Started","Create /docs/getting-started.md. Sections: Installation, Activation, First Scan, Understanding Your Health Score, Quick Wins, Recommended Settings. Screenshots of key UI elements. Troubleshooting: common issues and solutions. Video embed placeholder. Acceptance: New user can go from install to first cleanup following guide, screenshots match current UI."
M08-03,"User Documentation - Database Cleanup","Create /docs/database-cleanup.md. Sections: Understanding Database Bloat, Revisions (what they are, why clean, how many to keep), Transients (explanation, safe cleanup), Spam & Trash, Orphaned Data (what causes it, safe removal), Table Optimization, Scheduling Automated Cleanups. Warning callouts for irreversible actions. Acceptance: User understands what each cleanup does and can make informed decisions."
M08-04,"User Documentation - Media Audit","Create /docs/media-audit.md. Sections: How Media Scanning Works, Understanding 'Unused' Media (false positives, limitations), Duplicate Detection, Large File Optimization, Missing Alt Text (why it matters, bulk fixing), Safe Deletion Process (trash, restore, permanent). Integration notes for page builders. Acceptance: User understands scan limitations, knows how to safely clean media."
M08-05,"User Documentation - Performance","Create /docs/performance.md. Sections: Reading Plugin Impact Data, Heartbeat API Explained, Query Optimization Basics, Object Cache Benefits, Autoload Options. Recommended settings for different site types (blog, WooCommerce, membership). Acceptance: User understands performance metrics and can apply appropriate optimizations."
M08-06,"Developer Documentation - Hooks & Filters","Create /docs/developers/hooks.md. List all actions and filters with: name, location, parameters, example usage. Categories: Scan hooks, Cleanup hooks, UI hooks, Settings hooks. Code examples for common customizations: adding exclusions, modifying recommendations, extending scan locations. Acceptance: Developer can extend plugin functionality using documented hooks."
M08-07,"Developer Documentation - REST API","Create /docs/developers/rest-api.md. Full API reference: all endpoints, methods, parameters, request/response examples. Authentication requirements. Rate limiting details. Error codes and meanings. Postman collection export. Acceptance: Developer can integrate with all endpoints, examples are copy-paste ready."
M08-08,"Changelog & Versioning","Create CHANGELOG.md following Keep a Changelog format. Sections: Added, Changed, Deprecated, Removed, Fixed, Security. Version numbering: MAJOR.MINOR.PATCH per semver. Create readme.txt for WordPress.org format if distributing free version. Version history back to 1.0.0. Acceptance: Changelog clearly communicates changes, version numbers are consistent throughout plugin."
M09-01,"Unit Tests Setup","Configure PHPUnit for WordPress plugin testing. Create /tests/ directory with bootstrap.php loading WP test framework. Test database configuration. Base test class extending WP_UnitTestCase. Factories for creating test posts, attachments, comments. Acceptance: phpunit command runs tests, test database is isolated, factories work correctly."
M09-02,"Database Module Tests","Create /tests/test-database-analyzer.php. Test cases: get_revisions_count returns correct count, delete_revisions removes correct number, transient cleanup only removes expired, orphaned meta detection is accurate, table optimization runs without error. Create fixtures: posts with revisions, expired transients, orphaned meta. Acceptance: All database operations have test coverage, edge cases covered."
M09-03,"Media Module Tests","Create /tests/test-media-scanner.php. Test cases: unused media detection with various content types, duplicate detection accuracy, large file threshold works, exclusions are respected, safe delete and restore works. Fixtures: attachments with and without references, various file sizes. Mock page builder content. Acceptance: Media scanning edge cases covered, no false positives in controlled tests."
M09-04,"REST API Tests","Create /tests/test-rest-api.php. Test cases: authentication required, correct response format, pagination works, actions execute correctly, rate limiting functions. Test each endpoint with valid and invalid inputs. Verify proper HTTP status codes. Acceptance: All endpoints tested, auth enforcement verified, error handling correct."
M09-05,"Integration Tests","Create /tests/test-integration.php. Test complete workflows: full scan to cleanup, scheduled task execution, settings changes affecting behavior. Test with WooCommerce active, test with Elementor active. Verify no conflicts with popular plugins. Acceptance: End-to-end workflows pass, compatibility verified with major plugins."
M09-06,"JavaScript Tests Setup","Configure Jest for JavaScript testing. Test React components with React Testing Library. Mock wp.apiFetch, wp.i18n. Test files alongside source files (*.test.js). Coverage reporting. Acceptance: jest command runs tests, components have basic test coverage, mocks work correctly."
M09-07,"Code Quality Tools","Configure: PHP_CodeSniffer with WordPress Coding Standards, ESLint with WordPress config, Prettier for consistent formatting. Add pre-commit hooks via husky. GitHub Actions workflow for CI. PHPStan for static analysis at level 5+. Acceptance: All code passes linting, CI runs on PRs, no PHPStan errors at configured level."
M10-01,"Internationalization Setup","Implement i18n throughout plugin. Wrap all user-facing strings in __(), _e(), _n(), _x() with 'wp-admin-health-suite' text domain. Create /languages/ directory. Generate .pot file with WP-CLI: wp i18n make-pot. Add translator comments for ambiguous strings. JavaScript strings via wp.i18n. Acceptance: All strings translatable, .pot file generated, no hardcoded user-facing text."
M10-02,"Multisite Compatibility","Ensure multisite support. Network activation option. Per-site vs network-wide settings option. Scan options: current site only or network-wide (super admin only). Dashboard widget per site. Shared scan results storage option. Test on subdirectory and subdomain multisite. Acceptance: Plugin works correctly on multisite, network admin has additional options, per-site isolation works."
M10-03,"WooCommerce Integration","Create /includes/integrations/class-woocommerce.php. Detect WooCommerce active. Additional cleanups: expired sessions (woocommerce_sessions table), orphaned variation meta, transients (wc_ prefix with caution). Media scan: include product gallery images. Performance: WooCommerce-specific slow query detection. Conditional loading only when WooCommerce active. Acceptance: WooCommerce cleanups work safely, product images never flagged as unused, performance insights WooCommerce-specific."
M10-04,"Elementor Integration","Create /includes/integrations/class-elementor.php. Media reference scanning: parse Elementor JSON data for image IDs, background images, gallery widgets. Cache cleanup: Elementor CSS cache awareness. Conditional loading. Handle Elementor's custom meta storage format. Acceptance: Elementor images correctly detected as used, no false positives, handles complex Elementor layouts."
M10-05,"ACF Integration","Create /includes/integrations/class-acf.php. Scan ACF field types: image, gallery, file. Parse field groups for image fields. Query postmeta for ACF image references. Handle repeater and flexible content fields (nested images). Acceptance: ACF image fields detected, nested field images found, no false positives."
M10-06,"WPML/Polylang Compatibility","Create /includes/integrations/class-multilingual.php. Detect WPML or Polylang active. Ensure translated media not flagged as unused. Handle duplicate translations in media scanning. Respect language context in admin pages. Acceptance: Translated content media detected correctly, language-specific scans work, no false positives on translated media."
M10-07,"Security Hardening Audit","Review all code for security. Checklist: all SQL uses $wpdb->prepare(), all output escaped with esc_html/esc_attr/esc_url, all input sanitized, nonces verified on all forms and AJAX, capability checks on all admin functions, no direct file access (ABSPATH check), secure file operations. Document security measures. Acceptance: Pass security review, no SQL injection vectors, no XSS vulnerabilities, proper authorization throughout."
M10-08,"Performance Optimization Pass","Optimize plugin performance. Implement: lazy loading for admin pages, efficient database queries (avoid N+1), proper use of transients for expensive operations, async JavaScript loading, CSS critical path, batch processing with generators for large datasets. Profile with Query Monitor. Target: <200ms added to admin page load. Acceptance: Negligible admin performance impact, handles large sites (100k+ posts) without timeout."
M10-09,"Accessibility Compliance","Ensure WCAG 2.1 AA compliance. Audit: all interactive elements keyboard accessible, proper focus management, ARIA labels on custom components, color contrast ratios, screen reader announcements for dynamic content, form labels and error messages. Test with screen reader (NVDA/VoiceOver). Acceptance: Pass automated accessibility audit, usable with keyboard only, screen reader compatible."

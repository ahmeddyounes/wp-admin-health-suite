# M03-01 â€” Media Scanner Core Class

Create /includes/media/class-scanner.php. Methods: scan_all_media(), get_media_count(), get_media_total_size(), find_unused_media(), find_duplicate_files(), find_large_files(min_size_mb), find_missing_alt_text(), get_scan_progress(). Unused detection: check post_content, postmeta (gallery, featured), widget content, customizer, ACF fields, Elementor data, WooCommerce galleries. Store scan results in transient with timestamp. Batch processing: 50 attachments per batch. Acceptance: Accurately detects unused media, no false positives on actually-used images, handles large libraries (50k+) without timeout.

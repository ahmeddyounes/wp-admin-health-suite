# M02-02 â€” Revisions Manager Class

Create /includes/database/class-revisions-manager.php. Methods: get_revisions_by_post(post_id), get_all_revisions_count(), get_revisions_size_estimate(), delete_revisions_for_post(post_id, keep_count), delete_all_revisions(keep_per_post), get_posts_with_most_revisions(limit). Delete uses wp_delete_post_revision() for proper cleanup. Batch processing: process 100 revisions per batch with wp_defer_term_counting(). Log deletions to scan_history. Option to keep X most recent revisions per post. Acceptance: Revisions delete cleanly, associated meta removed, batch processing prevents timeout, audit log captures all deletions.

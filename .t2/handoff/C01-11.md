# Handoff: C01-11

Created: 2026-01-18T08:14:17.834519Z

Spec: .plans/C01-11.md


## 2026-01-18T08:20:13.844842Z — claude — impl

Command:
```
claude -p --output-format json --model opus --permission-mode acceptEdits --dangerously-skip-permissions You are implementing task C01-11 in this git repository.

1) Read the spec: .plans/C01-11.md
2) Read handoff/context: .t2/handoff/C01-11.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: npm run lint
- test: npm test

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

```

Return code: 0

Session: 6b4cbd97-b384-40a8-8470-ee5a5ea5eaa7

Agent final message (file: C01-11.claude.impl.last.md):

The script gracefully handles macOS Bash 3.x by showing a warning and exiting successfully (code 0). The full validation will run on Ubuntu CI which has Bash 4+.

---

## Status: DONE

## Summary of Changes

**Files Created:**
1. `scripts/check-case-sensitivity.sh` - Case-sensitivity validation script that performs 4 checks:
   - PSR-4 namespace-to-file-path mappings
   - `require`/`include` statement path casing
   - `use` statement class references
   - Integration class reference casing
   
2. `docs/developers/case-sensitivity.md` - Comprehensive documentation covering:
   - Background on the macOS vs Linux case-sensitivity problem
   - What each check validates
   - How to run locally (including macOS Bash 4+ instructions)
   - CI integration details
   - Common issues and fixes
   - Guide for adding new checks

**Files Modified:**
1. `.github/workflows/ci.yml` - Added new `case-sensitivity` job that runs on `ubuntu-latest` before other jobs

## How to Verify

```bash
# 1. Run the case-sensitivity script locally (shows warning on macOS Bash 3.x)
./scripts/check-case-sensitivity.sh

# 2. On macOS with Bash 4+ installed via Homebrew:
/usr/local/bin/bash ./scripts/check-case-sensitivity.sh

# 3. Lint passes (warnings only, no errors)
npm run lint

# 4. Tests pass
npm test
```

## Risks / Follow-ups

1. **macOS Development Experience**: The script gracefully skips checks on macOS Bash 3.x. Developers should install Bash 4+ (`brew install bash`) to run full local validation, or rely on CI to catch issues.

2. **False Negatives on macOS**: The script's file existence checks use the filesystem, so on case-insensitive macOS, some checks may not detect issues that would fail on Linux. The CI (Ubuntu) job is the authoritative check.

3. **Potential Future Enhancement**: Consider adding the script to Composer scripts for convenience:
   ```json
   "scripts": {
     "check:case": "./scripts/check-case-sensitivity.sh"
   }
   ```


Repo snapshot:
```
branch: main

status:
M .github/workflows/ci.yml
A  .logs/C01-01.claude.impl.last.md
A  .logs/C01-01.claude.impl.raw.txt
A  .logs/C01-01.gitcommit.txt
A  .logs/C01-02.claude.impl.last.md
A  .logs/C01-02.claude.impl.raw.txt
A  .logs/C01-02.gitcommit.txt
A  .logs/C01-03.claude.impl.last.md
A  .logs/C01-03.claude.impl.raw.txt
A  .logs/C01-03.gitcommit.txt
A  .logs/C01-04.claude.impl.last.md
A  .logs/C01-04.claude.impl.raw.txt
A  .logs/C01-04.gitcommit.txt
A  .logs/C01-05.claude.impl.last.md
A  .logs/C01-05.claude.impl.raw.txt
A  .logs/C01-05.gitcommit.txt
A  .logs/C01-06.claude.impl.last.md
A  .logs/C01-06.claude.impl.raw.txt
A  .logs/C01-06.gitcommit.txt
A  .logs/C01-07.claude.impl.last.md
A  .logs/C01-07.claude.impl.raw.txt
A  .logs/C01-07.gitcommit.txt
A  .logs/C01-08.claude.impl.last.md
A  .logs/C01-08.claude.impl.raw.txt
A  .logs/C01-08.gitcommit.txt
A  .logs/C01-09.claude.impl.last.md
A  .logs/C01-09.claude.impl.raw.txt
A  .logs/C01-09.gitcommit.txt
A  .logs/C01-10.claude.impl.last.md
A  .logs/C01-10.claude.impl.raw.txt
A  .plans/C01-01.md
A  .plans/C01-02.md
A  .plans/C01-03.md
A  .plans/C01-04.md
A  .plans/C01-05.md
A  .plans/C01-06.md
A  .plans/C01-07.md
A  .plans/C01-08.md
A  .plans/C01-09.md
A  .plans/C01-10.md
A  .t2/handoff/C01-01.md
A  .t2/handoff/C01-02.md
A  .t2/handoff/C01-03.md
A  .t2/handoff/C01-04.md
A  .t2/handoff/C01-05.md
A  .t2/handoff/C01-06.md
A  .t2/handoff/C01-07.md
A  .t2/handoff/C01-08.md
A  .t2/handoff/C01-09.md
A  .t2/handoff/C01-10.md
MM .t2/state.json
M  CHANGELOG.md
M  README.md
M  assets/js/admin.js
M  assets/js/utils/api.js
M  assets/js/utils/api.test.js
M  composer.json
A  docs/architecture-improvement-plan.md
A  docs/decisions/ADR-001-code-organization.md
A  docs/decisions/ADR-002-rest-api-evolution.md
A  docs/decisions/ADR-003-frontend-modernization-scope.md
M  docs/developers/hooks.md
M  docs/developers/rest-api.md
M  docs/getting-started.md
M  includes/Assets.php
M  includes/Database.php
R  includes/Integrations/Acf.php -> includes/Integrations/ACF.php
M  includes/RestApi.php
M  jest.setup.js
A  plan_tasks.csv
D  review_tasks.csv
D  tasks.csv
M  wp-admin-health-suite.php
?? .logs/C01-10.gitcommit.txt
?? .logs/C01-11.claude.impl.last.md
?? .logs/C01-11.claude.impl.raw.txt
?? .plans/C01-11.md
?? .t2/handoff/C01-11.md
?? docs/developers/case-sensitivity.md
?? scripts/check-case-sensitivity.sh

diff --stat:
.github/workflows/ci.yml | 11 +++++++++++
 .t2/state.json           |  5 +++--
 2 files changed, 14 insertions(+), 2 deletions(-)

```

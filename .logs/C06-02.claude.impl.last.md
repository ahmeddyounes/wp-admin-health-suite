---

**Status: DONE**

## Summary of Changes

### New Files Created
- **`tests/unit-standalone/Database/TrashCleanerTest.php`** - 39 comprehensive unit tests for `TrashCleaner` class covering:
  - **Counting paths**: `count_trashed_posts()`, `count_spam_comments()`, `count_trashed_comments()`
  - **Retrieval paths**: `get_trashed_posts()` with post type filters (single and multiple)
  - **Deletion paths**: `delete_trashed_posts()`, `delete_spam_comments()`, `delete_trashed_comments()`, `empty_all_trash()`
  - **Age filters**: All deletion methods with `older_than_days` parameter
  - **Edge cases**: Empty results, error handling, batch processing verification

### Modified Files
- **`tests/bootstrap-standalone.php`** - Added WordPress function stubs:
  - `wp_delete_post($post_id, $force_delete)` - Tracks calls in `$GLOBALS['wpha_test_delete_post_calls']`
  - `wp_delete_comment($comment_id, $force_delete)` - Tracks calls in `$GLOBALS['wpha_test_delete_comment_calls']`

## How to Verify

```bash
# Run TrashCleaner tests specifically
./vendor/bin/phpunit -c phpunit-standalone.xml --filter=TrashCleanerTest

# Run all standalone unit tests
./vendor/bin/phpunit -c phpunit-standalone.xml

# Run JavaScript tests
npm test

# Run lint
npm run lint
```

## Results
- **39/39 PHPUnit tests pass** (74 assertions)
- **451/451 Jest tests pass**
- **Lint**: Only pre-existing warnings, no errors

## Risks / Follow-ups
- None identified. The tests use the established MockConnection pattern and don't require any production code changes.

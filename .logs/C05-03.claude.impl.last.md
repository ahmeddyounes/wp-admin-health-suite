---

## Status: DONE

## Summary of Changes

### New Files Created
1. **`assets/js/utils/extension-api.js`** - Core extension API module providing:
   - Widget registration system with zones and priorities
   - Filter/hook pattern similar to WordPress PHP hooks
   - Event subscription via existing `WPAdminHealth.Events`
   - Documented public API (`ExtensionAPI`) and internal API (`InternalExtensionAPI`)

2. **`assets/js/utils/extension-api.test.js`** - Comprehensive tests for the extension API (397 lines)

### Modified Files
3. **Entry point files** - Updated to use new extension API pattern:
   - `assets/js/entries/dashboard.js` - Exposes `window.WPAdminHealth.extensions`, keeps components internal
   - `assets/js/entries/performance.js` - Same pattern
   - `assets/js/entries/database-health.js` - Same pattern
   - `assets/js/entries/media-audit.js` - Same pattern
   - `assets/js/entries/settings.js` - Same pattern

4. **Test files** - Updated to work with new API:
   - `assets/js/entries/dashboard.test.js`
   - `assets/js/entries/performance.test.js`
   - `assets/js/entries/database-health.test.js`
   - `assets/js/entries/media-audit.test.js`
   - `assets/js/entries/settings.test.js`

5. **`docs/developers/hooks.md`** - Added JavaScript Extension API documentation section

### Key Changes
- **Removed**: `window.WPAdminHealthComponents` global (components no longer exposed)
- **Added**: `window.WPAdminHealth.extensions` - minimal, documented extension API
- **Internal components** accessed via `__testing__` export for tests only
- **Extension points**: `registerWidget`, `unregisterWidget`, `addFilter`, `on`, `once`

## How to Verify

```bash
# Run linting (0 errors, warnings are pre-existing)
npm run lint

# Run tests (all 443 tests pass)
npm test
```

## Risks / Follow-ups

1. **Breaking Change**: Any third-party code using `window.WPAdminHealthComponents` will break. The documentation includes a migration guide.

2. **Console Warning in Tests**: There's a React act() warning in extension-api.test.js when unmounting roots during cleanup. This is cosmetic and doesn't affect functionality.

3. **Future Enhancement**: Consider adding zone containers to the dashboard/page templates (e.g., `<div id="wpha-extension-zone-top">`) to enable widget rendering.

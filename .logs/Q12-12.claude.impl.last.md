---

## Status: DONE

## Summary of Changes

Created comprehensive test suite for `assets/js/utils/accessibility.js` with **98 test cases** covering:

1. **ScreenReaderAnnouncer** (15 tests)
   - Live region initialization and DOM creation
   - ARIA attributes (`aria-atomic`, `aria-live`, `role`)
   - Visually hidden styling
   - Polite vs assertive announcements
   - Message timing (delay and clear)
   - Default export interface

2. **FocusManager** (18 tests)
   - `setFocus()` - element focusing by selector and reference
   - `trapFocus()` - modal focus trapping with Tab/Shift+Tab
   - `getFocusableElements()` - query for focusable elements
   - `saveFocus()` / `restoreFocus()` - focus state preservation
   - Edge cases (null elements, disabled elements, tabindex handling)

3. **KeyboardNav** (13 tests)
   - `isActivationKey()` - Enter and Space detection
   - `isEscapeKey()` - Escape key detection (including IE/Edge `Esc`)
   - `isArrowKey()` - Arrow key detection
   - `rovingTabindex()` - Roving tabindex navigation with Home/End support

4. **AriaUtils** (12 tests)
   - `toggleExpanded()` - aria-expanded state management
   - `setHidden()` - aria-hidden attribute
   - `setLabel()` - aria-label attribute
   - `setDescribedBy()` - aria-describedby attribute
   - `setLive()` - aria-live region configuration
   - `setBusy()` - aria-busy state

5. **ContrastUtils** (16 tests)
   - `hexToRgb()` - Hex color parsing
   - `getLuminance()` - Relative luminance calculation
   - `getContrastRatio()` - WCAG contrast ratio calculation
   - `meetsWCAG_AA()` - WCAG AA compliance checks
   - `meetsWCAG_AAA()` - WCAG AAA compliance checks
   - Integration tests for WCAG compliance validation

## How to Verify

```bash
# Run all tests
npm test

# Run only accessibility tests
npm test -- --testPathPattern="accessibility"

# Run lint
npm run lint
```

## Risks / Follow-ups

- **Console warnings in other tests**: The test output shows React `defaultProps` deprecation warnings in `ActivityTimeline.jsx`. These are pre-existing and not related to this task.
- **act() warnings**: Some tests in `ActivityTimeline.test.jsx` show `act()` warnings which are pre-existing.
- **Lint warnings**: 159 JSDoc and prop-types warnings exist (pre-existing), but no errors.

---

**Status: DONE**

## Summary of Changes

1. **Verified CI workflow** (`.github/workflows/ci.yml`): Already properly configured with `test-js` job that runs `npm test` and will fail the build on test failures.

2. **Fixed act() warning in extension-api.test.js**: Wrapped `InternalExtensionAPI.clear()` in `act()` within the `afterEach` hook to eliminate React warnings about state updates not wrapped in act().

3. **Expanded api.test.js coverage**: Added 8 new test cases for error normalization code paths:
   - `normalizes HTTP Response errors with status`
   - `handles HTTP Response error without statusText`
   - `normalizes AbortError as timeout`
   - `normalizes timeout message errors`
   - `returns same ApiError if already ApiError`
   - `handles generic unknown errors`
   - `handles error with no message`
   - `throws cancelled error when signal is aborted during retry`

## How to Verify

```bash
npm test       # All 451 tests should pass
npm run lint   # Should show 0 errors (158 warnings are pre-existing)
```

## Risks/Follow-ups

- **Coverage threshold not met**: Overall coverage is ~40% due to legacy IIFE files (`admin.js`, `charts.js`, `database-health.js`, `media-audit.js`, `performance.js`) having 0% coverage. These files are harder to test due to their IIFE structure and tight jQuery coupling. Consider refactoring to ES modules for better testability in future.
- **React act() warnings in ActivityTimeline tests**: These are non-fatal warnings about async state updates; they don't cause test failures but could be addressed in a future cleanup task.
- **defaultProps deprecation warnings**: Components using `defaultProps` will need migration to JavaScript default parameters in a future React version.

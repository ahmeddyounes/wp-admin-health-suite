## Status: DONE

## Summary of Changes

Refactored the integration system to require injected `ConnectionInterface` and `CacheInterface` dependencies, eliminating internal construction of infrastructure classes:

1. **`includes/Integrations/AbstractIntegration.php`**:
   - Removed imports for `WpdbConnection` and `CacheFactory`
   - Changed constructor from nullable parameters with fallbacks to required parameters
   - No longer internally instantiates `new WpdbConnection()` or `CacheFactory::get_instance()`

2. **`includes/Integrations/WooCommerce.php`**:
   - Changed constructor from nullable to required `ConnectionInterface` and `CacheInterface` parameters

3. **`includes/Integrations/Elementor.php`**:
   - Changed constructor from nullable to required `ConnectionInterface` and `CacheInterface` parameters

4. **`includes/Integrations/Multilingual.php`**:
   - Changed constructor from nullable to required `ConnectionInterface` and `CacheInterface` parameters

5. **`includes/Integrations/ACF.php`**:
   - Changed constructor from nullable to required `ConnectionInterface` and `CacheInterface` parameters

6. **`includes/Integrations/IntegrationManager.php`**:
   - Updated `discover_builtin_integrations()` to require factory (no fallback to direct instantiation)
   - Updated `create_integration()` to require factory for dependency injection
   - Removed fallback code that would call `new $class()` without dependencies

7. **`tests/unit/Integration/IntegrationManagerTest.php`**:
   - Updated `Mock_Integration` constructor to require `ConnectionInterface` and `CacheInterface` as first two parameters
   - Updated all test methods to pass dependencies when creating integrations
   - Fixed method name references (`get_active` → `get_available`, `get_info` → `get_integration_info`, `initialize_all` → `init`)
   - Fixed duplicate registration test (manager replaces, doesn't reject duplicates)

## How to Verify

```bash
# Run linting
npm run lint

# Run tests
npm test
```

Both commands complete successfully:
- Lint: 0 errors, 161 warnings (pre-existing warnings unrelated to this change)
- Tests: 417 passed, 0 failed

## Risks / Follow-ups

1. **Breaking Change for Third-Party Integrations**: Any third-party code that extends `AbstractIntegration` or creates integrations directly (without using the factory) will need to be updated to pass the required dependencies. The `IntegrationServiceProvider` already properly injects dependencies via the container, so the official plugin flow is unaffected.

2. **Factory is Now Required**: The `IntegrationManager` now requires a factory to create integrations. Without a factory, no integrations will be discovered. This is intentional since dependencies cannot be injected otherwise. The plugin's bootstrap path always provides a factory via the container.
